{"ast":null,"code":"'use strict';\n/**\n * Dependencies\n */\n\nvar _classCallCheck = require(\"/Users/tryckhov/Dropbox/Programming/Web Development/React/g12-site/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/tryckhov/Dropbox/Programming/Web Development/React/g12-site/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/Users/tryckhov/Dropbox/Programming/Web Development/React/g12-site/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/tryckhov/Dropbox/Programming/Web Development/React/g12-site/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/Users/tryckhov/Dropbox/Programming/Web Development/React/g12-site/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _assertThisInitialized = require(\"/Users/tryckhov/Dropbox/Programming/Web Development/React/g12-site/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _wrapNativeSuper = require(\"/Users/tryckhov/Dropbox/Programming/Web Development/React/g12-site/node_modules/@babel/runtime/helpers/wrapNativeSuper\");\n\nvar chalk = require('chalk');\n/**\n * Response error class\n */\n\n\nvar ResponseError =\n/*#__PURE__*/\nfunction (_Error) {\n  _inherits(ResponseError, _Error);\n\n  /**\n   * Constructor\n   */\n  function ResponseError(response) {\n    var _this;\n\n    _classCallCheck(this, ResponseError);\n\n    //Super\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResponseError).call(this)); //Extract data from response\n\n    var headers = response.headers,\n        statusCode = response.statusCode,\n        statusMessage = response.statusMessage,\n        body = response.body; //Set data\n\n    _this.code = statusCode;\n    _this.message = statusMessage;\n    _this.response = {\n      headers: headers,\n      body: body\n    }; //Capture stack trace\n\n    if (!_this.stack) {\n      Error.captureStackTrace(_assertThisInitialized(_assertThisInitialized(_this)), _this.constructor);\n    } //Clean up stack trace\n\n\n    var regex = new RegExp(process.cwd() + '/', 'gi');\n    _this.stack = _this.stack.replace(regex, '');\n    return _this;\n  }\n  /**\n   * Convert to string\n   */\n\n\n  _createClass(ResponseError, [{\n    key: \"toString\",\n    value: function toString() {\n      var body = this.response.body;\n      var err = chalk.red(\"\".concat(this.message, \" (\").concat(this.code, \")\"));\n\n      if (body && Array.isArray(body.errors)) {\n        body.errors.forEach(function (error) {\n          var message = chalk.yellow(error.message);\n          var field = chalk.grey(error.field);\n          var help = chalk.grey(error.help);\n          err += \"\\n  \".concat(message, \"\\n    \").concat(field, \"\\n    \").concat(help);\n        });\n      }\n\n      return err;\n    }\n    /**\n     * Convert to simple object for JSON responses\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var message = this.message,\n          code = this.code,\n          response = this.response;\n      return {\n        message: message,\n        code: code,\n        response: response\n      };\n    }\n  }]);\n\n  return ResponseError;\n}(_wrapNativeSuper(Error)); //Export\n\n\nmodule.exports = ResponseError;","map":null,"metadata":{},"sourceType":"script"}